<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.control.cell.PropertyValueFactory?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" 
      fx:controller="com.mekongfarm.controller.DonNhapController"
      spacing="15" styleClass="content-page">
    <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
    
    <!-- Header -->
    <HBox alignment="CENTER_LEFT" spacing="15">
        <Label text="ðŸ“¦ ÄÆ N NHáº¬P HÃ€NG" styleClass="page-title"/>
        <Region HBox.hgrow="ALWAYS"/>
        <Label fx:id="lblTongDon" text="0 Ä‘Æ¡n nháº­p" style="-fx-font-size: 14px; -fx-text-fill: #64748b;"/>
    </HBox>
    
    <!-- Thá»‘ng kÃª nhanh -->
    <HBox spacing="15" alignment="CENTER">
        <VBox styleClass="stat-card card-blue" alignment="CENTER" spacing="3" prefWidth="160">
            <Label text="ðŸ“‹" style="-fx-font-size: 20px;"/>
            <Label fx:id="lblTongDonNhap" text="0" style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: #1e40af;"/>
            <Label text="Tá»•ng Ä‘Æ¡n nháº­p" style="-fx-font-size: 11px; -fx-text-fill: #374151;"/>
        </VBox>
        <VBox styleClass="stat-card card-green" alignment="CENTER" spacing="3" prefWidth="160">
            <Label text="âœ…" style="-fx-font-size: 20px;"/>
            <Label fx:id="lblDaDuyet" text="0" style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: #166534;"/>
            <Label text="ÄÃ£ duyá»‡t" style="-fx-font-size: 11px; -fx-text-fill: #374151;"/>
        </VBox>
        <VBox styleClass="stat-card card-orange" alignment="CENTER" spacing="3" prefWidth="160">
            <Label text="â³" style="-fx-font-size: 20px;"/>
            <Label fx:id="lblChoDuyet" text="0" style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: #c2410c;"/>
            <Label text="Chá» duyá»‡t" style="-fx-font-size: 11px; -fx-text-fill: #374151;"/>
        </VBox>
        <VBox styleClass="stat-card card-purple" alignment="CENTER" spacing="3" prefWidth="180">
            <Label text="ðŸ’°" style="-fx-font-size: 20px;"/>
            <Label fx:id="lblTongGiaTri" text="0 VNÄ" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #7e22ce;"/>
            <Label text="Tá»•ng giÃ¡ trá»‹ nháº­p" style="-fx-font-size: 11px; -fx-text-fill: #374151;"/>
        </VBox>
    </HBox>
    
    <!-- Thanh cÃ´ng cá»¥ -->
    <HBox spacing="10" alignment="CENTER_LEFT" style="-fx-background-color: #f8fafc; -fx-padding: 10; -fx-background-radius: 8;">
        <ComboBox fx:id="cboNCC" promptText="Lá»c theo NCC" prefWidth="180"/>
        <ComboBox fx:id="cboTrangThai" promptText="Tráº¡ng thÃ¡i" prefWidth="140"/>
        <DatePicker fx:id="dpTuNgay" promptText="Tá»« ngÃ y"/>
        <DatePicker fx:id="dpDenNgay" promptText="Äáº¿n ngÃ y"/>
        <Button text="ðŸ”„ LÃ m má»›i" onAction="#lamMoi" styleClass="btn-secondary"/>
        <Region HBox.hgrow="ALWAYS"/>
        <Button text="âž• Táº¡o Ä‘Æ¡n nháº­p" onAction="#taoDonMoi" styleClass="btn-primary"/>
    </HBox>
    
    <!-- Báº£ng Ä‘Æ¡n nháº­p -->
    <TableView fx:id="tableDonNhap" VBox.vgrow="ALWAYS" minHeight="250" styleClass="data-table">
        <columns>
            <TableColumn fx:id="colMaDon" text="MÃ£ Ä‘Æ¡n" prefWidth="90"/>
            <TableColumn fx:id="colNCC" text="NhÃ  cung cáº¥p" prefWidth="180"/>
            <TableColumn fx:id="colNgayNhap" text="NgÃ y nháº­p" prefWidth="140"/>
            <TableColumn fx:id="colTongTien" text="Tá»•ng tiá»n" prefWidth="130"/>
            <TableColumn fx:id="colTrangThai" text="Tráº¡ng thÃ¡i" prefWidth="110"/>
            <TableColumn fx:id="colNguoiTao" text="NgÆ°á»i táº¡o" prefWidth="120"/>
            <TableColumn fx:id="colAction" text="Thao tÃ¡c" prefWidth="180"/>
        </columns>
    </TableView>
    
    <!-- Form táº¡o Ä‘Æ¡n nháº­p -->
    <TitledPane fx:id="paneForm" text="ðŸ“ Táº¡o Ä‘Æ¡n nháº­p hÃ ng má»›i" expanded="false" styleClass="form-pane" maxHeight="500">
        <ScrollPane fitToWidth="true" style="-fx-background-color: transparent;">
            <VBox spacing="12">
                <padding><Insets top="15" right="15" bottom="15" left="15"/></padding>
            <HBox spacing="20">
                <VBox spacing="5">
                    <Label text="MÃ£ Ä‘Æ¡n nháº­p:" style="-fx-font-weight: bold;"/>
                    <TextField fx:id="txtMaDon" editable="false" prefWidth="100" style="-fx-background-color: #f1f5f9;"/>
                </VBox>
                <VBox spacing="5" HBox.hgrow="ALWAYS">
                    <Label text="NhÃ  cung cáº¥p:" style="-fx-font-weight: bold;"/>
                    <ComboBox fx:id="cboNhaCungCap" prefWidth="280" promptText="Chá»n nhÃ  cung cáº¥p..."/>
                </VBox>
                <VBox spacing="5" HBox.hgrow="ALWAYS">
                    <Label text="Ghi chÃº:"/>
                    <TextField fx:id="txtGhiChu" prefWidth="300" promptText="Ghi chÃº Ä‘Æ¡n nháº­p..."/>
                </VBox>
            </HBox>
            
            <HBox spacing="15" alignment="CENTER_LEFT" style="-fx-background-color: #fef3c7; -fx-padding: 10; -fx-background-radius: 6;">
                <Label text="âž• ThÃªm sáº£n pháº©m:" style="-fx-font-weight: bold;"/>
                <ComboBox fx:id="cboSanPham" prefWidth="220" promptText="Chá»n sáº£n pháº©m"/>
                <TextField fx:id="txtSoLuong" prefWidth="80" promptText="Sá»‘ lÆ°á»£ng"/>
                <TextField fx:id="txtDonGia" prefWidth="120" promptText="ÄÆ¡n giÃ¡ nháº­p"/>
                <Button text="âž• ThÃªm" onAction="#themSanPham" styleClass="btn-secondary"/>
            </HBox>
            
            <TableView fx:id="tableChiTiet" prefHeight="150" styleClass="data-table">
                <columns>
                    <TableColumn fx:id="colSanPham" text="Sáº£n pháº©m" prefWidth="250"/>
                    <TableColumn fx:id="colSoLuong" text="Sá»‘ lÆ°á»£ng" prefWidth="90"/>
                    <TableColumn fx:id="colDonGia" text="ÄÆ¡n giÃ¡" prefWidth="120"/>
                    <TableColumn fx:id="colThanhTien" text="ThÃ nh tiá»n" prefWidth="130"/>
                </columns>
            </TableView>
            
            <HBox spacing="20" alignment="CENTER_RIGHT">
                <Label fx:id="lblTongTien" text="ðŸ’° Tá»•ng: 0 VNÄ" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #dc2626;"/>
                <Button text="ðŸ’¾ LÆ°u Ä‘Æ¡n nháº­p" onAction="#luuDon" styleClass="btn-primary"/>
                <Button text="âŒ Há»§y" onAction="#huy" styleClass="btn-secondary"/>
            </HBox>
            </VBox>
        </ScrollPane>
    </TitledPane>
</VBox>
